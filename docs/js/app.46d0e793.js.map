{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?81a9","webpack:///./src/components/Imager/UploadImage.vue?2f53","webpack:///./src/components/Imager/ImageEditor.vue?14a8","webpack:///./src/components/Imager/EditorShape.vue?0439","webpack:///src/components/Imager/EditorShape.vue","webpack:///./src/components/Imager/EditorShape.vue?5607","webpack:///./src/components/Imager/EditorShape.vue","webpack:///./src/components/Imager/shapes/circle.js","webpack:///./src/components/Imager/shapes/arrow.js","webpack:///./src/components/Imager/shapes/line.js","webpack:///./src/components/Imager/shapes/text.js","webpack:///./src/components/Imager/shapes/pen.js","webpack:///./src/components/Imager/events/onDragStart.js","webpack:///./src/components/Imager/events/onDragStop.js","webpack:///./src/components/Imager/events/onDragging.js","webpack:///./src/components/Imager/layers/LayerText.vue?8e1b","webpack:///./src/components/Imager/layers/LayerTextElement.vue?fa51","webpack:///src/components/Imager/layers/LayerTextElement.vue","webpack:///./src/components/Imager/layers/LayerTextElement.vue?7959","webpack:///./src/components/Imager/layers/LayerTextElement.vue","webpack:///src/components/Imager/layers/LayerText.vue","webpack:///./src/components/Imager/layers/LayerText.vue?765d","webpack:///./src/components/Imager/layers/LayerText.vue","webpack:///./src/components/Imager/layers/LayerLine.vue?a8be","webpack:///src/components/Imager/layers/LayerLine.vue","webpack:///./src/components/Imager/layers/LayerLine.vue?9866","webpack:///./src/components/Imager/layers/LayerLine.vue","webpack:///src/components/Imager/ImageEditor.vue","webpack:///./src/components/Imager/ImageEditor.vue?be01","webpack:///./src/components/Imager/ImageEditor.vue","webpack:///src/components/Imager/UploadImage.vue","webpack:///./src/components/Imager/UploadImage.vue?2ba2","webpack:///./src/components/Imager/UploadImage.vue","webpack:///src/App.vue","webpack:///./src/App.vue?98c8","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/App.vue?fa84"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","1","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","Appvue_type_template_id_aa8e6c7a_render","_vm","this","_h","$createElement","_c","_self","attrs","id","staticRenderFns","UploadImagevue_type_template_id_767783a0_render","staticClass","ref","type","multiple","on","change","onChange","imagesPreview","_e","_v","tag","_l","img","style","background-image","click","$event","removeImage","editImage","input","imageEdited","model","callback","$$v","selectedImage","expression","UploadImagevue_type_template_id_767783a0_staticRenderFns","ImageEditorvue_type_template_id_a2bdf22c_render","controls","shape","for","directives","rawName","min","max","domProps","__r","$set","target","composing","class","disabled","shapesStack","dataStore","undoShapes","redoStackDataStore","redoShapes","staticStyle","transform","$emit","clearImage","saveCanvasAsImage","icon","width","height","mousemove","onDragging","mouseup","onDragStop","mousedown","onDragStart","color","textColor","fontSize","borderColor","strokeColor","backgroundColor","fillBox","fillColor","blur","saveCanvasText","canvas_text","listShapesALayer","onDelete","deleteShape","textUpdated","ImageEditorvue_type_template_id_a2bdf22c_staticRenderFns","EditorShapevue_type_template_id_0fba0a0c_render","active","_s","EditorShapevue_type_template_id_0fba0a0c_staticRenderFns","EditorShapevue_type_script_lang_js","props","String","Imager_EditorShapevue_type_script_lang_js","component","componentNormalizer","EditorShape","drawCircle","ctx","radius","Math","sqrt","pow","from","x","to","y","beginPath","arc","PI","stroke","drawArrow","headlen","angle","atan2","moveTo","lineTo","cos","sin","fill","drawLine","lineWidth","strokeStyle","$lineHeight","drawTextarea","vm","heig","toEvent","clientY","fromEvent","widt","clientX","txt","$refs","concat","abs","querySelector","focus","lineHeight","wrapText","storeInTheStack","arguments","undefined","lines","text","split","fillStyle","textBaseline","font","words","line","testLine","metrics","measureText","testWidth","maxWidth","fillText","text_saveCanvasText","pos","clientWidth","timestamp","Date","now","display","redrawText","startTextFrom","$nextTick","left","dragStartLocation","top","addEventListener","dragging","pen","lastX","lastY","lineStart","drawPen","shapes_pen","onDragStart_onDragStart","event","dragStartLocationEvent","getCanvasCoordinates","takeSnapshot","events_onDragStart","onDragStop_onDragStop","startFrom","draw","shapeProps","events_onDragStop","onDragging_onDragging","events_onDragging","LayerTextvue_type_template_id_46ebd881_render","_m","aria-labelledby","data-parent","el","onTextUpdated","LayerTextvue_type_template_id_46ebd881_staticRenderFns","data-toggle","data-target","aria-expanded","aria-controls","LayerTextElementvue_type_template_id_4f096242_render","isEdit","showEdit","saveText","LayerTextElementvue_type_template_id_4f096242_staticRenderFns","LayerTextElementvue_type_script_lang_js","methods","editText","e","newVal","objectSpread","layers_LayerTextElementvue_type_script_lang_js","LayerTextElement_component","LayerTextElement","LayerTextvue_type_script_lang_js","components","Array","textProps","toConsumableArray","updated","propIndex","findIndex","watch","newProps","oldProps","layers_LayerTextvue_type_script_lang_js","LayerText_component","LayerText","LayerLinevue_type_template_id_1f7c1ee6_render","timestamps","border-radius","LayerLinevue_type_template_id_1f7c1ee6_staticRenderFns","LayerLinevue_type_script_lang_js","layers_LayerLinevue_type_script_lang_js","LayerLine_component","LayerLine","ImageEditorvue_type_script_lang_js","canvas","snapshot","holderDataStore","computed","imageSizes","Image","src","hegh","mounted","init","ctrlZ","keyCode","ctrlKey","console","log","reRenderShapes","_this","clearRect","self","shapes","initCanvasBg","offsetWidth","getContext","document","ClipToBounds","lineCap","arr","filter","shapeIndex","updateTextProps","elIndex","_this2","onload","drawImage","getImageData","getSnapshot","putImageData","getBoundingClientRect","_this3","imgDataUrl","toDataURL","element","pop","redoPush","redoPop","isDeleted","undoShape","_shape","controls.lineWidth","nVal","oldVal","controls.strokeColor","controls.shape","Imager_ImageEditorvue_type_script_lang_js","ImageEditor_component","ImageEditor","UploadImagevue_type_script_lang_js","files","uploader","uploader_2","_loop","file","match","alert","reader","FileReader","readAsDataURL","index","ImgObject","editedImage","updatedImageIndex","Imager_UploadImagevue_type_script_lang_js","UploadImage_component","UploadImage","Appvue_type_script_lang_js","src_Appvue_type_script_lang_js","App_component","App","$","jquery_default","a","jQuery","vue_runtime_esm","config","productionTip","render","h","$mount","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css__WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/app.46d0e793.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t1: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/vue-image-drawer-component/docs/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([2,0]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('UploadImage')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"image-upload-wrapper\"},[_c('div',{staticClass:\"image-upload-field\"},[_c('input',{ref:\"uploader\",attrs:{\"type\":\"file\",\"multiple\":\"\"},on:{\"change\":_vm.onChange}}),(!_vm.imagesPreview.length)?_c('div',{staticClass:\"upload-image-placeholder\"},[_vm._v(\"\\n           Click / drag and drop images here\\n      \")]):_vm._e(),_c('div',[_c('transition-group',{staticClass:\"image-upload-preview\",attrs:{\"name\":\"slide\",\"mode\":\"out-in\",\"tag\":\"div\"}},[_vm._l((_vm.imagesPreview),function(img,i){return _c('div',{key:img.key,staticClass:\"img-item\",style:({'background-image': (\"url(\" + (img.src) + \")\")})},[_c('i',{staticClass:\"fa fa-close action-icon removeImageIcon\",on:{\"click\":function($event){_vm.removeImage(i)}}}),_c('i',{staticClass:\"fa fa-edit action-icon editImageIcon\",on:{\"click\":function($event){_vm.editImage(img)}}})])}),(_vm.imagesPreview.length)?_c('div',{key:\"ccc\",staticClass:\"img-item upload-card\"},[_c('input',{ref:\"uploader_2\",attrs:{\"type\":\"file\",\"multiple\":\"\"},on:{\"change\":_vm.onChange}}),_vm._v(\"\\n           Click / drag and drop images here\\n         \")]):_vm._e()],2)],1)]),(_vm.selectedImage)?_c('ImageEditor',{on:{\"input\":_vm.imageEdited},model:{value:(_vm.selectedImage),callback:function ($$v) {_vm.selectedImage=$$v},expression:\"selectedImage\"}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"image-editor\"},[_c('div',{staticClass:\"container-fluid\"},[_c('div',{staticClass:\"edit-shape d-flex text-center my-3 text-capitalize\"},[(_vm.controls.shape !== 'text')?[_c('div',{staticClass:\"d-flex flex-column align-items-center border mb-2 p-2\"},[_c('label',{attrs:{\"for\":\"line-width\"}},[_vm._v(\"Line width\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.controls.lineWidth),expression:\"controls.lineWidth\"}],attrs:{\"type\":\"range\",\"id\":\"line-width\",\"min\":1,\"max\":50},domProps:{\"value\":(_vm.controls.lineWidth)},on:{\"__r\":function($event){_vm.$set(_vm.controls, \"lineWidth\", $event.target.value)}}})]),_c('div',{staticClass:\"d-flex flex-column align-items-center border mb-2 p-2\"},[_c('label',{attrs:{\"for\":\"stroke-color\"}},[_vm._v(\"stroke color\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.controls.strokeColor),expression:\"controls.strokeColor\"}],attrs:{\"type\":\"color\",\"id\":\"stroke-color\"},domProps:{\"value\":(_vm.controls.strokeColor)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.controls, \"strokeColor\", $event.target.value)}}})])]:[_c('div',{staticClass:\"d-flex flex-column align-items-center border mb-2 p-2\"},[_c('label',{attrs:{\"for\":\"font-size\"}},[_vm._v(\"Font size\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.controls.fontSize),expression:\"controls.fontSize\"}],attrs:{\"type\":\"range\",\"id\":\"font-size\",\"min\":1,\"max\":50},domProps:{\"value\":(_vm.controls.fontSize)},on:{\"__r\":function($event){_vm.$set(_vm.controls, \"fontSize\", $event.target.value)}}})]),_c('div',{staticClass:\"d-flex flex-column align-items-center border mb-2 p-2\"},[_c('label',{attrs:{\"for\":\"text-color\"}},[_vm._v(\"text color\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.controls.textColor),expression:\"controls.textColor\"}],attrs:{\"type\":\"color\",\"id\":\"text-color\"},domProps:{\"value\":(_vm.controls.textColor)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.controls, \"textColor\", $event.target.value)}}})])],_c('div',{staticClass:\"d-flex flex-column align-items-center border mb-2 p-2\"},[_c('label',{attrs:{\"for\":\"text-color\"}},[_vm._v(\"undo\")]),_c('button',{staticClass:\"btn btn-primary btn-sm\",class:{disabled: !_vm.shapesStack.dataStore.length},attrs:{\"disabled\":!_vm.shapesStack.dataStore.length},on:{\"click\":_vm.undoShapes}},[_c('i',{staticClass:\"fa fa-undo\"})])]),_c('div',{staticClass:\"d-flex flex-column align-items-center border mb-2 p-2\"},[_c('label',{attrs:{\"for\":\"text-color\"}},[_vm._v(\"redo\")]),_c('button',{staticClass:\"btn btn-primary btn-sm\",class:{disabled: !_vm.shapesStack.redoStackDataStore.length},attrs:{\"disabled\":!_vm.shapesStack.redoStackDataStore.length},on:{\"click\":_vm.redoShapes}},[_c('i',{staticClass:\"fa fa-undo\",staticStyle:{\"transform\":\"rotateY(180deg)\"}})])])],2),_c('div',{staticClass:\"mb-2\"},[_c('button',{staticClass:\"btn btn-primary\",on:{\"click\":function($event){_vm.$emit('input', null)}}},[_vm._v(\"close\")]),_c('button',{staticClass:\"btn btn-primary mx-3\",on:{\"click\":_vm.clearImage}},[_vm._v(\"clear image\")]),_c('button',{staticClass:\"btn btn-primary\",on:{\"click\":_vm.saveCanvasAsImage}},[_vm._v(\"save changes\")])]),_c('div',{staticClass:\"image-editor-wrapper\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-2\"},[_c('div',{staticClass:\"image-editor-toolbar bar-bg\"},[_c('EditorShape',{attrs:{\"shape\":\"circle\",\"icon\":\"genderless\"},model:{value:(_vm.controls.shape),callback:function ($$v) {_vm.$set(_vm.controls, \"shape\", $$v)},expression:\"controls.shape\"}}),_c('EditorShape',{attrs:{\"shape\":\"line\",\"icon\":\"ellipsis-v\"},model:{value:(_vm.controls.shape),callback:function ($$v) {_vm.$set(_vm.controls, \"shape\", $$v)},expression:\"controls.shape\"}}),_c('EditorShape',{attrs:{\"shape\":\"pen\",\"icon\":\"pencil\"},model:{value:(_vm.controls.shape),callback:function ($$v) {_vm.$set(_vm.controls, \"shape\", $$v)},expression:\"controls.shape\"}}),_c('EditorShape',{attrs:{\"shape\":\"text\",\"icon\":\"font\"},model:{value:(_vm.controls.shape),callback:function ($$v) {_vm.$set(_vm.controls, \"shape\", $$v)},expression:\"controls.shape\"}}),_c('EditorShape',{attrs:{\"shape\":\"arrow\",\"icon\":\"long-arrow-down\"},model:{value:(_vm.controls.shape),callback:function ($$v) {_vm.$set(_vm.controls, \"shape\", $$v)},expression:\"controls.shape\"}})],1)]),_c('div',{staticClass:\"col-md-8\"},[_c('div',{staticClass:\"image-editor-canvas\"},[_c('canvas',{ref:\"canvas\",attrs:{\"width\":\"800\",\"height\":\"800\"},on:{\"mousemove\":_vm.onDragging,\"mouseup\":_vm.onDragStop,\"mousedown\":_vm.onDragStart}}),_c('div',{ref:\"canvas_text\",staticClass:\"canvas-text\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.canvas_text),expression:\"canvas_text\"}],style:({\n                    color: _vm.controls.textColor,\n                    fontSize: _vm.controls.fontSize+'px',\n                    borderColor: _vm.controls.strokeColor,\n                    backgroundColor: _vm.controls.fillBox ? _vm.controls.fillColor : 'transparent' }),attrs:{\"width\":\"0\"},domProps:{\"value\":(_vm.canvas_text)},on:{\"blur\":_vm.saveCanvasText,\"input\":function($event){if($event.target.composing){ return; }_vm.canvas_text=$event.target.value}}})])])]),_c('div',{staticClass:\"col-md-2\"},[_c('div',{attrs:{\"id\":\"accordion\"}},[(_vm.listShapesALayer('text').length)?_c('LayerText',{attrs:{\"value\":_vm.listShapesALayer('text')},on:{\"onDelete\":_vm.deleteShape,\"textUpdated\":_vm.textUpdated}}):_vm._e(),(_vm.listShapesALayer('line').length)?_c('LayerLine',{attrs:{\"value\":_vm.listShapesALayer('line')},on:{\"onDelete\":_vm.deleteShape}}):_vm._e()],1)])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"edit-shape d-flex flex-column\",class:{active: _vm.shape === _vm.value},on:{\"click\":function($event){_vm.$emit('input', _vm.shape)}}},[_c('i',{class:(\"fa fa-\" + _vm.icon)}),_c('div',{staticClass:\"text-capitalize\"},[_vm._v(_vm._s(_vm.shape))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div @click=\"$emit('input', shape)\" class=\"edit-shape d-flex flex-column\" :class=\"{active: shape === value}\">\n    <i :class=\"`fa fa-${icon}`\"></i>\n    <div class=\"text-capitalize\">{{shape}}</div>\n  </div>\n</template>\n<script>\nexport default {\n  props: {\n    shape: {\n      type: String,\n    },\n    icon: {\n      type: String,\n    },\n    value: {},\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorShape.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorShape.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./EditorShape.vue?vue&type=template&id=0fba0a0c\"\nimport script from \"./EditorShape.vue?vue&type=script&lang=js\"\nexport * from \"./EditorShape.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default function drawCircle(props, ctx) {\n  const radius = Math.sqrt(Math.pow(props.from.x - props.to.x, 2) + Math.pow(props.from.y - props.to.y, 2));\n  ctx.beginPath();\n  ctx.arc(\n    props.from.x,\n    props.from.y,\n    radius,\n    0,\n    Math.PI * 2,\n    false,\n  );\n  ctx.stroke();\n}\n","export default function drawArrow(props, ctx) {\n  const headlen = 10;\n\n  const angle = Math.atan2(props.to.y - props.from.y, props.to.x - props.from.x);\n\n  // starting path of the arrow from the start square to the end square and drawing the stroke\n  ctx.beginPath();\n  ctx.moveTo(props.from.x, props.from.y);\n  ctx.lineTo(props.to.x, props.to.y);\n  ctx.stroke();\n\n  // starting a new path from the head of the arrow to one of the sides of the point\n  ctx.beginPath();\n  ctx.moveTo(props.to.x, props.to.y);\n  ctx.lineTo(\n    props.to.x - headlen * Math.cos(angle - Math.PI / 7),\n    props.to.y - headlen * Math.sin(angle - Math.PI / 7),\n  );\n\n  // path from the side point of the arrow, to the other side point\n  ctx.lineTo(\n    props.to.x - headlen * Math.cos(angle + Math.PI / 7),\n    props.to.y - headlen * Math.sin(angle + Math.PI / 7),\n  );\n\n  // path from the side point back to the tip of the arrow, and then again to the opposite side point\n  ctx.lineTo(props.to.x, props.to.y);\n  ctx.lineTo(\n    props.to.x - headlen * Math.cos(angle - Math.PI / 7),\n    props.to.y - headlen * Math.sin(angle - Math.PI / 7),\n  );\n\n  // draws the paths created above\n  ctx.stroke();\n  ctx.fill();\n}\n","export default function drawLine(props, ctx) {\n  ctx.beginPath();\n  ctx.moveTo(props.from.x, props.from.y);\n  ctx.lineTo(props.to.x, props.to.y);\n  ctx.lineWidth = props.lineWidth;\n  ctx.strokeStyle = props.strokeColor;\n  ctx.stroke();\n}\n","const $lineHeight = 27;\n\nconst drawTextarea = (props, vm) => {\n  const heig = props.toEvent.clientY - props.fromEvent.clientY;\n  const widt = props.toEvent.clientX - props.fromEvent.clientX;\n\n  const txt = vm.$refs.canvas_text;\n  txt.style.height = `${Math.abs(heig)}px`;\n  txt.style.width = `${Math.abs(widt)}px`;\n  txt.querySelector('textarea').focus();\n  txt.querySelector('textarea').style.lineHeight = $lineHeight < 2 ? $lineHeight : `${$lineHeight}px`;\n};\n\nconst wrapText = (props, ctx, vm, storeInTheStack = true) => {\n  const lines = props.text.split('\\n');\n  ctx.fillStyle = vm.controls.textColor;\n  ctx.textBaseline = 'top';\n  ctx.font = `${props.fontSize}px 'Avenir', Helvetica, Arial, sans-serif`;\n\n  for (let i = 0; i < lines.length; i++) {\n    const words = lines[i].split(' ');\n    let line = '';\n    for (let n = 0; n < words.length; n++) {\n      const testLine = `${line + words[n]} `;\n      const metrics = ctx.measureText(testLine);\n      const testWidth = metrics.width;\n      if (testWidth > props.maxWidth && n > 0) {\n        ctx.fillText(line, props.x, props.y);\n        line = `${words[n]} `;\n        props.y += props.lineHeight;\n      } else {\n        line = testLine;\n      }\n    }\n    ctx.fillText(line, props.x, props.y + i * props.lineHeight);\n  }\n  if (storeInTheStack) {\n    vm.push(props);\n    // drawTempDiv(props);\n  }\n};\n\nconst saveCanvasText = (props, ctx, vm) => {\n  const txt = vm.$refs.canvas_text;\n  if (vm.canvas_text) {\n    const pos = props.from;\n    wrapText({\n      text: vm.canvas_text,\n      textColor: vm.controls.textColor,\n      fontSize: vm.controls.fontSize,\n      x: pos.x,\n      y: pos.y,\n      lineHeight: $lineHeight,\n      maxWidth: txt.clientWidth,\n      type: 'text',\n      timestamp: Date.now(),\n    }, ctx, vm);\n  }\n  txt.style.display = 'none';\n  vm.canvas_text = null;\n};\n\nconst redrawText = (props, vm) => {\n  // const el = document.querySelector('.canvas-temp-text');\n  // el.parentNode.removeChild(el);\n  wrapText(props, vm.ctx, vm, false);\n};\n\nconst drawTempDiv = (props) => { //eslint-disable-line\n  const textDiv = document.createElement('div');\n  const canvasDiv = document.querySelector('.image-editor-canvas');\n\n  textDiv.style.position = 'absolute';\n\n\n  textDiv.style.top = `${props.y + 2}px`;\n  textDiv.style.left = `${props.x}px`;\n\n  textDiv.innerText = props.text;\n  textDiv.style.fontSize = `${props.fontSize}px`;\n  textDiv.style.color = props.textColor;\n  textDiv.style.lineHeight = props.lineHeight;\n  textDiv.className = 'canva-temp-text';\n\n  canvasDiv.appendChild(textDiv);\n};\n\nconst startTextFrom = (vm) => {\n  vm.$nextTick(() => {\n    const txt = vm.$refs.canvas_text;\n    vm.canvas_text = '';\n    txt.style.display = 'block';\n    txt.style.width = 0;\n    txt.style.left = `${vm.dragStartLocation.x}px`;\n    txt.style.top = `${vm.dragStartLocation.y}px`;\n    txt.addEventListener('mouseup', () => {\n      vm.dragging = false;\n    });\n  });\n};\n\nexport { drawTextarea };\nexport { saveCanvasText };\nexport { redrawText };\nexport { startTextFrom };\n","const pen = {\n  lastX: null,\n  lastY: null,\n  lineStart: true,\n  drawPen(props, ctx) {\n    if (pen.lineStart) {\n      pen.lastX = props.from.x;\n      pen.lastY = props.from.y;\n      pen.lineStart = false;\n      ctx.beginPath();\n    }\n    ctx.lineTo(pen.lastX, pen.lastY);\n    ctx.lineTo(props.to.x, props.to.y);\n    ctx.stroke();\n    pen.lastX = props.to.x;\n    pen.lastY = props.to.y;\n  },\n};\n\nexport default pen;\n","const onDragStart = vm => (event) => {\n  vm.dragStartLocationEvent = event;\n  vm.dragStartLocation = vm.getCanvasCoordinates(event);\n  vm.dragging = true;\n  vm.takeSnapshot();\n};\n\nexport default onDragStart;\n","const onDragStop = (vm, pen) => (event) => {\n  const pos = vm.getCanvasCoordinates(event);\n  const startFrom = vm.dragStartLocation;\n  vm.dragging = false;\n  vm.draw(event);\n  if (vm.controls.shape === 'text') {\n    vm.$refs.canvas_text.focus();\n  } else if (vm.controls.shape === 'pen') {\n    pen.lineStart = true;\n    pen.lastX = null;\n    pen.lastY = null;\n  } else if (vm.controls.shape === 'line') {\n    const shapeProps = {\n      type: vm.controls.shape,\n      from: startFrom,\n      to: pos,\n      strokeColor: vm.controls.strokeColor,\n      lineWidth: vm.controls.lineWidth,\n      timestamp: Date.now(),\n    };\n    vm.push(shapeProps);\n  }\n};\n\nexport default onDragStop;\n","const onDragging = vm => (event) => {\n  if (vm.dragging) {\n    vm.draw(event);\n  }\n};\n\nexport default onDragging;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.value)?_c('div',{staticClass:\"card\"},[_vm._m(0),_c('div',{staticClass:\"collapse show\",attrs:{\"id\":\"collapseOne\",\"aria-labelledby\":\"headingOne\",\"data-parent\":\"#accordion\"}},[_c('div',{staticClass:\"card-body\"},_vm._l((_vm.textProps),function(el){return _c('LayerTextElement',{key:el.timestamp,attrs:{\"value\":el},on:{\"onDelete\":function($event){_vm.$emit('onDelete', $event)},\"input\":_vm.onTextUpdated}})}))])]):_vm._e()}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-header\",attrs:{\"id\":\"text\"}},[_c('h5',{staticClass:\"mb-0\"},[_c('button',{staticClass:\"btn btn-link\",attrs:{\"data-toggle\":\"collapse\",\"data-target\":\"#collapseOne\",\"aria-expanded\":\"true\",\"aria-controls\":\"collapseOne\"}},[_c('i',{staticClass:\"fa fa-font\"}),_vm._v(\" text\\n      \")])])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-flex justify-content-between\"},[_c('div',[_c('i',{staticClass:\"fa fa-trash mr-2\",on:{\"click\":function($event){_vm.$emit('onDelete', _vm.value.timestamp)}}}),(_vm.isEdit)?_c('i',{staticClass:\"fa fa-check\",on:{\"click\":function($event){_vm.isEdit = false}}}):_c('i',{staticClass:\"fa fa-edit\",on:{\"click\":_vm.showEdit}})]),(_vm.isEdit)?_c('input',{ref:\"editText\",staticStyle:{\"width\":\"140px\"},attrs:{\"type\":\"text\"},domProps:{\"value\":_vm.value.text},on:{\"change\":_vm.saveText}}):_c('span',[_vm._v(_vm._s(_vm.value.text))]),_c('span',{staticClass:\"d-inline-block\",style:((\"background-color:\" + (_vm.value.textColor) + \"; width: 15px; height: 15px; border-radius: 50%\"))})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"d-flex justify-content-between\">\n    <div>\n      <i class=\"fa fa-trash mr-2\" @click=\"$emit('onDelete', value.timestamp)\"></i>\n      <i class=\"fa fa-check\" @click=\"isEdit = false\" v-if=\"isEdit\"></i>\n      <i class=\"fa fa-edit\" @click=\"showEdit\" v-else></i>\n    </div>\n    <input \n      type=\"text\"\n      :value=\"value.text\"\n      style=\"width: 140px\"\n      ref=\"editText\"\n      v-if=\"isEdit\"\n      @change=\"saveText\">\n    <span v-else>{{value.text}}</span>\n    <span :style=\"`background-color:${value.textColor}; width: 15px; height: 15px; border-radius: 50%`\" class=\"d-inline-block\"></span>\n  </div>\n</template>\n<script>\nexport default {\n  props: {\n    value: {}\n  },\n  data() {\n    return {\n      isEdit: false\n    };\n  },\n  methods: {\n    showEdit() {\n      this.isEdit = true;\n      this.$nextTick(function() {\n        this.$refs.editText.focus();\n      });\n    },\n    saveText(e) {\n      const newVal = {...this.value};\n      newVal.text = e.target.value\n      this.$emit(\"input\", newVal);\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayerTextElement.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayerTextElement.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./LayerTextElement.vue?vue&type=template&id=4f096242\"\nimport script from \"./LayerTextElement.vue?vue&type=script&lang=js\"\nexport * from \"./LayerTextElement.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"card\" v-if=\"value\">\n    <div class=\"card-header\" id=\"text\">\n      <h5 class=\"mb-0\">\n        <button class=\"btn btn-link\" data-toggle=\"collapse\" data-target=\"#collapseOne\" aria-expanded=\"true\" aria-controls=\"collapseOne\">\n          <i class=\"fa fa-font\"></i> text\n        </button>\n      </h5>\n    </div>\n\n    <div id=\"collapseOne\" class=\"collapse show\" aria-labelledby=\"headingOne\" data-parent=\"#accordion\">\n      <div class=\"card-body\">\n          <LayerTextElement\n           v-for=\"el in textProps\" \n           :key=\"el.timestamp\" \n           :value=\"el\"\n           @onDelete=\"$emit('onDelete', $event)\"\n           @input=\"onTextUpdated\"/>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport LayerTextElement from './LayerTextElement'\nexport default {\n  components: { LayerTextElement },\n  props: {\n    value: {\n      type: Array\n    }\n  },\n  data () {\n    return {\n      textProps: [...this.value]\n    }\n  },\n  updated () {\n    // this.textProps = [...this.value]\n  },\n  methods: {\n    onTextUpdated(value) {\n      const propIndex = this.textProps.findIndex(el => el.timestamp === value.timestamp);\n      this.textProps.splice(propIndex, 1, value);\n      this.$emit(\"textUpdated\", value);\n    }\n  },\n  watch: {\n    \"value\": function(newProps, oldProps){\n      this.textProps = newProps\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayerText.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayerText.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./LayerText.vue?vue&type=template&id=46ebd881\"\nimport script from \"./LayerText.vue?vue&type=script&lang=js\"\nexport * from \"./LayerText.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.value)?_c('div',{staticClass:\"card my-4\"},[_vm._m(0),_c('div',{staticClass:\"collapse show\",attrs:{\"id\":\"line\",\"aria-labelledby\":\"headingOne\",\"data-parent\":\"#accordion\"}},[_c('div',{staticClass:\"card-body\"},[_c('ul',{staticClass:\"list-unstyled\"},_vm._l((_vm.value),function(el){return _c('li',{key:el.timestamps,staticClass:\"d-flex justify-content-between my-3\"},[_c('i',{staticClass:\"fa fa-trash\",on:{\"click\":function($event){_vm.$emit('onDelete', el.timestamp)}}}),_c('span',{staticClass:\"d-inline-block\",staticStyle:{\"border-radius\":\"10px\",\"width\":\"70px\",\"height\":\"10px\"},style:((\"background-color: \" + (el.strokeColor)))})])}))])])]):_vm._e()}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-header\",attrs:{\"id\":\"text\"}},[_c('h5',{staticClass:\"mb-0\"},[_c('button',{staticClass:\"btn btn-link\",attrs:{\"data-toggle\":\"collapse\",\"data-target\":\"#line\",\"aria-expanded\":\"true\",\"aria-controls\":\"collapseOne\"}},[_c('i',{staticClass:\"fa fa-ellipsis-v\"}),_vm._v(\" Lines\\n      \")])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"card my-4\" v-if=\"value\">\n    <div class=\"card-header\" id=\"text\">\n      <h5 class=\"mb-0\">\n        <button class=\"btn btn-link\" data-toggle=\"collapse\" data-target=\"#line\" aria-expanded=\"true\" aria-controls=\"collapseOne\">\n          <i class=\"fa fa-ellipsis-v\"></i> Lines\n        </button>\n      </h5>\n    </div>\n\n    <div id=\"line\" class=\"collapse show\" aria-labelledby=\"headingOne\" data-parent=\"#accordion\">\n      <div class=\"card-body\">\n        <ul class=\"list-unstyled\">\n          <li v-for=\"el in value\" :key=\"el.timestamps\" class=\"d-flex justify-content-between my-3\">\n            <i class=\"fa fa-trash\" @click=\"$emit('onDelete', el.timestamp)\"></i>\n            <span style=\"border-radius: 10px;width: 70px; height: 10px;\" :style=\"`background-color: ${el.strokeColor}`\" class=\"d-inline-block\"></span>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  props: {\n    value: {}\n  }\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayerLine.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayerLine.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./LayerLine.vue?vue&type=template&id=1f7c1ee6\"\nimport script from \"./LayerLine.vue?vue&type=script&lang=js\"\nexport * from \"./LayerLine.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"image-editor\">\n    <div class=\"container-fluid\">\n      <div class=\"edit-shape d-flex text-center my-3 text-capitalize\">\n        <template v-if=\"controls.shape !== 'text'\">\n          <div class=\"d-flex flex-column align-items-center border mb-2 p-2\">\n            <label for=\"line-width\">Line width</label>\n            <input type=\"range\" id=\"line-width\" :min=\"1\" v-model=\"controls.lineWidth\" :max=\"50\" />\n          </div>\n          <div class=\"d-flex flex-column align-items-center border mb-2 p-2\">\n            <label for=\"stroke-color\">stroke color</label>\n            <input type=\"color\" id=\"stroke-color\" v-model=\"controls.strokeColor\"/>\n          </div>\n        </template>\n        <template v-else>\n          <div class=\"d-flex flex-column align-items-center border mb-2 p-2\">\n            <label for=\"font-size\">Font size</label>\n            <input type=\"range\" id=\"font-size\" :min=\"1\" v-model=\"controls.fontSize\" :max=\"50\" />\n          </div>\n          <div class=\"d-flex flex-column align-items-center border mb-2 p-2\">\n            <label for=\"text-color\">text color</label>\n            <input type=\"color\" id=\"text-color\" v-model=\"controls.textColor\"/>\n          </div>\n        </template>\n        <div class=\"d-flex flex-column align-items-center border mb-2 p-2\">\n          <label for=\"text-color\">undo</label>\n          <button \n            class=\"btn btn-primary btn-sm\"\n            :class=\"{disabled: !shapesStack.dataStore.length}\"\n            :disabled=\"!shapesStack.dataStore.length\"\n            @click=\"undoShapes\"\n            >\n              <i class=\"fa fa-undo\"></i>\n          </button>\n        </div>\n        <div class=\"d-flex flex-column align-items-center border mb-2 p-2\">\n          <label for=\"text-color\">redo</label>\n          <button\n            class=\"btn btn-primary btn-sm\"\n            :class=\"{disabled: !shapesStack.redoStackDataStore.length}\"\n            :disabled=\"!shapesStack.redoStackDataStore.length\"\n            @click=\"redoShapes\"\n            >\n              <i class=\"fa fa-undo\" style=\"transform: rotateY(180deg)\"></i>\n            </button>\n        </div>\n      </div>\n      <div class=\"mb-2\">\n        <button class=\"btn btn-primary\" @click=\"$emit('input', null)\">close</button>\n        <button class=\"btn btn-primary mx-3\" @click=\"clearImage\">clear image</button>\n        <button class=\"btn btn-primary\" @click=\"saveCanvasAsImage\">save changes</button>\n      </div>\n      <div class=\"image-editor-wrapper\">\n        <div class=\"row\">\n          <div class=\"col-md-2\">\n            <div class=\"image-editor-toolbar bar-bg\">\n              <EditorShape v-model=\"controls.shape\" shape=\"circle\" icon=\"genderless\"/>\n              <EditorShape v-model=\"controls.shape\" shape=\"line\" icon=\"ellipsis-v\"/>\n              <EditorShape v-model=\"controls.shape\" shape=\"pen\" icon=\"pencil\"/>\n              <EditorShape v-model=\"controls.shape\" shape=\"text\" icon=\"font\"/>\n              <EditorShape v-model=\"controls.shape\" shape=\"arrow\" icon=\"long-arrow-down\"/>\n            </div>\n          </div>\n            <div class=\"col-md-8\">\n              <div class=\"image-editor-canvas\">\n                <canvas\n                  ref=\"canvas\"\n                  width=\"800\"\n                  height=\"800\"\n                  @mousemove=\"onDragging\"\n                  @mouseup=\"onDragStop\"\n                  @mousedown=\"onDragStart\">\n                </canvas>\n                <div ref=\"canvas_text\" class=\"canvas-text\">\n                  <textarea\n                    @blur=\"saveCanvasText\"\n                    width=\"0\"\n                    v-model=\"canvas_text\"\n                    :style=\"{\n                      color: controls.textColor,\n                      fontSize: controls.fontSize+'px',\n                      borderColor: controls.strokeColor,\n                      backgroundColor: controls.fillBox ? controls.fillColor : 'transparent' }\">\n                  </textarea>\n                </div>\n              </div>\n            </div>\n          <div class=\"col-md-2\">\n            <div id=\"accordion\">\n              <LayerText\n                :value=\"listShapesALayer('text')\"\n                v-if=\"listShapesALayer('text').length\"\n                @onDelete=\"deleteShape\"\n                @textUpdated=\"textUpdated\"\n                 />\n              <LayerLine\n                :value=\"listShapesALayer('line')\"\n                v-if=\"listShapesALayer('line').length\"\n                @onDelete=\"deleteShape\"\n                 />\n            </div>\n          </div>\n\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport EditorShape from \"./EditorShape\";\n// Shapes\nimport drawCircle from \"./shapes/circle\";\nimport drawArrow from \"./shapes/arrow\";\nimport drawLine from \"./shapes/line\";\nimport { drawTextarea, saveCanvasText, startTextFrom, redrawText } from \"./shapes/text\";\nimport pen from \"./shapes/pen\";\n// Draw Events\nimport onDragStart from \"./events/onDragStart\";\nimport onDragStop from \"./events/onDragStop\";\nimport onDragging from \"./events/onDragging\";\n// Layers\nimport LayerText from './layers/LayerText';\nimport LayerLine from './layers/LayerLine';\n\nexport default {\n  components: { EditorShape, LayerText, LayerLine },\n  props: {\n    value: {}\n  },\n  data() {\n    return {\n      canvas: null,\n      ctx: null,\n      dragging: false,\n      snapshot: null,\n      dragStartLocation: null,\n      dragStartLocationEvent: null,\n      canvas_text: null,\n      controls: {\n        fillBox: false,\n        shape: \"text\",\n        lineWidth: 6,\n        strokeColor: \"#800080\",\n        fillColor: \"#800080\",\n        textColor: \"#800080\",\n        fontSize: 40\n      },\n      shapesStack: {\n        dataStore: [],\n        redoStackDataStore: [],\n        holderDataStore: []\n      }\n    };\n  },\n  computed: {\n    imageSizes() {\n      const img = new Image();\n      img.src = this.value.src;\n      return {\n        widt: img.width,\n        hegh: img.height\n      };\n    }\n  },\n  mounted() {\n    (function(vm) {\n      vm.init();\n      window.addEventListener(\"keyup\", vm.ctrlZ);\n    })(this);\n  },\n  methods: {\n    ctrlZ(event) {\n      if (event.keyCode == 90 && event.ctrlKey && event.keyCode === 16) {\n        this.redoShapes()\n      } else if (event.keyCode == 90 && event.ctrlKey) {\n        this.undoShapes()\n        console.log(\":redo\")\n      }\n    },\n    reRenderShapes(type = 'undo') {\n      this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n      const self = this;\n      let shapes = self.shapesStack.dataStore;\n      this.initCanvasBg(() => {\n        for (let i = 0; i < shapes.length; i++) {\n          let shape = shapes[i]\n          if (shape.type === 'line')\n          {\n            drawLine(shape, this.ctx);\n          } else if(shape.type === 'text') {\n            redrawText(shape, self)\n          }\n        }\n      });\n    },\n    init() {\n      this.canvas = this.$refs.canvas;\n      this.canvas.style.width = \"100%\";\n      // make canvas takes its parent width\n      this.canvas.width = this.canvas.offsetWidth;\n      // init canvas context\n      this.ctx = this.canvas.getContext(\"2d\");\n      const c_div = document.querySelector(\".image-editor-canvas\");\n      // shapes style\n      this.ctx.strokeStyle = this.controls.strokeColor;\n      this.ctx.fillStyle = this.controls.fillColor;\n      this.ctx.lineWidth = this.controls.lineWidth;\n      this.ctx.ClipToBounds = true;\n      this.ctx.lineCap = \"round\";\n      this.initCanvasBg();\n    },\n    listShapesALayer(shape){\n      const arr = this.shapesStack.dataStore.filter(el => el.type === shape);\n      return arr;\n    },\n    deleteShape(key) {\n      const shapeIndex = this.shapesStack.dataStore.findIndex(shape => shape.timestamp === key);\n      this.shapesStack.holderDataStore.push(this.shapesStack.dataStore[shapeIndex]);\n      this.$set(this.shapesStack.dataStore[shapeIndex], \"isDeleted\", true);\n      this.shapesStack.dataStore.splice(shapeIndex, 1);\n      this.reRenderShapes()\n    },\n    textUpdated (updateTextProps) {\n     const elIndex = this.shapesStack.dataStore.findIndex(el => el.timestamp === updateTextProps.timestamp);\n     this.shapesStack.holderDataStore.push(this.shapesStack.dataStore[elIndex]);\n     this.shapesStack.dataStore.splice(elIndex, 1);\n     this.push(updateTextProps);\n     this.reRenderShapes();\n    },\n    initCanvasBg(callback) {\n      // draw image on canvas\n      const img = new Image();\n      img.src = this.value.src;\n      img.onload = () => {\n        this.ctx.drawImage(img, 0, 0, this.canvas.width, this.canvas.height);\n        if (callback) {\n          callback(true);\n        }\n      };\n    },\n    takeSnapshot() {\n      this.snapshot = this.ctx.getImageData(\n        0,\n        0,\n        this.canvas.width,\n        this.canvas.height\n      );\n    },\n    getSnapshot() {\n      this.ctx.putImageData(this.snapshot, 0, 0);\n    },\n    clearImage() {\n      this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n      this.initCanvasBg();\n      this.shapesStack.dataStore = []\n    },\n    getCanvasCoordinates(event) {\n      const x = event.clientX - this.canvas.getBoundingClientRect().left;\n      const y = event.clientY - this.canvas.getBoundingClientRect().top;\n      return {\n        x,\n        y\n      };\n    },\n    // Mouse Events\n    onDragStart(event) {\n      if (this.controls.shape === 'text') {\n        startTextFrom(this);\n      }\n      return onDragStart(this)(event);\n    },\n    onDragging(event) {\n      return onDragging(this)(event);\n    },\n    onDragStop(event) {\n      return onDragStop(this, pen)(event);\n    },\n\n    draw(event) {\n      const pos = this.getCanvasCoordinates(event);\n      this.getSnapshot();\n      switch (this.controls.shape) {\n        case \"line\":\n          drawLine(\n            {\n              type: this.controls.shape,\n              from: this.dragStartLocation,\n              to: pos,\n              strokeColor: this.controls.strokeColor,\n              lineWidth: this.controls.lineWidth\n            },\n            this.ctx\n          );\n          break;\n        case \"circle\":\n          drawCircle({ from: this.dragStartLocation, to: pos }, this.ctx);\n          break;\n        case \"pen\":\n          pen.drawPen({ to: pos, from: this.dragStartLocation }, this.ctx);\n          break;\n        case \"text\":\n          drawTextarea(\n            { fromEvent: this.dragStartLocationEvent, toEvent: event },\n            this\n          );\n          break;\n        case \"arrow\":\n          drawArrow({ from: this.dragStartLocation, to: pos }, this.ctx);\n          break;\n      }\n    },\n\n    saveCanvasAsImage() {\n      const imgDataUrl = this.canvas.toDataURL(\"image/png\");\n      this.$nextTick(() => {\n        this.$emit(\"input\", { src: imgDataUrl, key: this.value.key });\n      });\n    },\n    saveCanvasText(event) {\n      return saveCanvasText({ from: this.dragStartLocation }, this.ctx, this);\n    },\n\n    push (element) {\n      this.shapesStack.dataStore.push(element);\n    },\n    pop () {\n      const pop = this.shapesStack.dataStore.pop();\n      return pop;\n    },\n    redoPush (element) {\n      this.shapesStack.redoStackDataStore.push(element);\n    },\n    redoPop () {\n      const pop = this.shapesStack.redoStackDataStore.pop()\n      return pop;\n    },\n    undoShapes() {\n      if (this.shapesStack.holderDataStore.length) {\n        const shape = this.shapesStack.holderDataStore.pop();\n        if (shape.type === \"text\" && !shape.isDeleted) {\n          const undoShape = this.pop();\n          this.redoPush(undoShape);\n        }\n        this.push(shape)\n        this.reRenderShapes()\n      }\n      else if (this.shapesStack.dataStore.length) {\n        const shape = this.pop();\n        if (!shape) return;\n        this.redoPush(shape);\n        this.reRenderShapes()\n      }\n    },\n    redoShapes() {\n      if (this.shapesStack.redoStackDataStore.length) {\n        const shape = this.redoPop();\n        this.push(shape);\n        this.reRenderShapes('redo')\n      }\n    }\n  },\n  watch: {\n    \"controls.lineWidth\": function(nVal, oldVal) {\n      this.ctx.lineWidth = nVal;\n    },\n    \"controls.strokeColor\": function(nVal, oldVal) {\n      this.ctx.strokeStyle = nVal;\n      this.ctx.fillStyle = nVal;\n    },\n    \"controls.shape\": function(nVal, oldVal) {\n      this.$refs.canvas_text.style.display = \"none\";\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageEditor.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageEditor.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ImageEditor.vue?vue&type=template&id=a2bdf22c\"\nimport script from \"./ImageEditor.vue?vue&type=script&lang=js\"\nexport * from \"./ImageEditor.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"image-upload-wrapper\">\n    <div class=\"image-upload-field\">\n        <input type=\"file\" @change=\"onChange\" ref=\"uploader\" multiple>\n        <div\n          class=\"upload-image-placeholder\"\n          v-if=\"!imagesPreview.length\">\n             Click / drag and drop images here\n        </div>\n        <div>\n          <transition-group name=\"slide\" class=\"image-upload-preview\" mode=\"out-in\" tag=\"div\">\n           <div class=\"img-item\" v-for=\"(img, i) in imagesPreview\" :key=\"img.key\" :style=\"{'background-image': `url(${img.src})`}\">\n             <i class=\"fa fa-close action-icon removeImageIcon\" @click=\"removeImage(i)\"></i>\n             <i class=\"fa fa-edit action-icon editImageIcon\" @click=\"editImage(img)\"></i>\n           </div>\n           <div class=\"img-item upload-card\" key=\"ccc\" v-if=\"imagesPreview.length\">\n            <input type=\"file\" @change=\"onChange\" ref=\"uploader_2\" multiple>\n             Click / drag and drop images here\n           </div>\n          </transition-group>\n        </div>\n    </div>\n    <ImageEditor v-if=\"selectedImage\" v-model=\"selectedImage\" @input=\"imageEdited\"/>\n  </div>\n</template>\n<script>\nimport ImageEditor from './ImageEditor.vue';\n\nexport default {\n  components: { ImageEditor },\n  data() {\n    return {\n      imagesPreview: [],\n      selectedImage: null,\n    };\n  },\n  methods: {\n    onChange() {\n      // get the fiels\n      const files = this.$refs.uploader.files || this.$refs.uploader_2.files;\n      if (!files || !files.length) {\n        alert('no images...');\n        return;\n      }\n\n      // eterate over the images\n      for (let i = 0; i < files.length; i++) {\n        const file = files[i];\n        if (!file.type.match('image/*')) {\n          alert(`${file.name} must be an image`);\n          continue;\n        }\n\n        const reader = new FileReader();\n        reader.onload = (e) => {\n          this.imagesPreview.push({\n            src: e.target.result,\n            key: Date.now() + i,\n          });\n        };\n        reader.readAsDataURL(file);\n      }\n    },\n    removeImage(index) {\n      this.imagesPreview.splice(index, 1);\n    },\n    editImage(ImgObject) {\n      this.selectedImage = ImgObject;\n    },\n    imageEdited(editedImage) {\n      if (editedImage) {\n        const updatedImageIndex = this.imagesPreview.findIndex(img => img.key === editedImage.key);\n        this.imagesPreview[updatedImageIndex].src = editedImage.src;\n        this.selectedImage = null;\n      }\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadImage.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadImage.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./UploadImage.vue?vue&type=template&id=767783a0\"\nimport script from \"./UploadImage.vue?vue&type=script&lang=js\"\nexport * from \"./UploadImage.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <UploadImage />\n  </div>\n</template>\n\n<script>\nimport UploadImage from './components/Imager/UploadImage.vue';\n\nexport default {\n  name: 'app',\n  components: {\n    UploadImage,\n  },\n};\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=aa8e6c7a\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport $ from 'jquery';\nimport 'bootstrap';\nimport App from './App.vue';\nimport './assets/app.scss';\n\nwindow.$ = $;\nwindow.jQuery = $;\n\nVue.config.productionTip = false;\n\nnew Vue({\n  render: h => h(App),\n}).$mount('#app');\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css\""],"sourceRoot":""}